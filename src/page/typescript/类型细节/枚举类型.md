æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æšä¸¾ï¼Ÿ

ä½¿ç”¨æšä¸¾æ˜¯ä¸ºäº†è®©ä»£ç æ›´æœ‰æ„ä¹‰ã€æ›´æ˜“è¯»ï¼Œå¹¶å‡å°‘é”™è¯¯ã€‚å®ƒå¯ä»¥å¸®æˆ‘ä»¬ç”¨æ¸…æ™°çš„åå­—ä»£æ›¿æ‚ä¹±çš„æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼Œä»£ç æ›´æ˜“è¯»ã€æ›´å®‰å…¨ï¼Œä¹Ÿæ›´å®¹æ˜“ç»´æŠ¤ã€‚

æ¯”å¦‚æˆ‘ä»¬è¦å®šä¹‰æ˜¥å¤ç§‹å†¬ã€é¢œè‰²ã€æœˆä»½ã€æ˜ŸæœŸã€æ–¹å‘ç­‰ç­‰æœ‰åºåˆ—æˆ–è€…æ¯”è¾ƒå›ºå®šçš„ç¦»æ•£å€¼çš„æƒ…å†µã€‚åœ¨ JS ä¸­æˆ‘ä»¬ä¼šæƒ³åˆ°ç”¨`const`å®šä¹‰ä¸€ç³»åˆ—çš„å¸¸é‡ï¼Œåœ¨ TS ä¸­æˆ‘ä»¬ä¼šæƒ³åˆ°ä½¿ç”¨è”åˆç±»å‹è¿›è¡Œå¤„ç†ï¼š

```typescript
// ä½¿ç”¨è”åˆç±»å‹å®šä¹‰æšä¸¾
type Gender = "ç”·" | "å¥³";
type Color = "red" | "blue" | "green";
type Direction = "up" | "down" | "left" | "right";
type Status = "success" | "error" | "warning";
type Weekday = "Sun" | "Mon" | "Tue" | "Wed" | "Thu" | "Fri" | "Sat";

function fn1(color: Color) {
    switch (color) {
        case "red":
            console.log(color);
            // todo...
            break;
        case "blue":
            console.log(color);
            // todo...
            break;
        case "green":
            console.log(color);
            // todo...
            break;
    }
}
```

ä½†æ˜¯å¦‚ä½•è¿™ä¹ˆå†™ä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯é€»è¾‘å«ä¹‰`switch`å’Œç±»å‹`type`äº§ç”Ÿäº†æ··æ·†ï¼Œä¼šå¯¼è‡´ä¿®æ”¹ç±»å‹çš„æ—¶å€™ï¼Œäº§ç”Ÿå¤§é‡çš„ä¿®æ”¹ã€‚

ç¤ºä¾‹ï¼š

```typescript
type Color = "red" | "blue" | "green";
// ä¿®æ”¹ä¸º
type Color = "çº¢" | "è“" | "ç»¿";
```

è¿™æ ·æ”¹å®Œåä¸ä»…ä»…æ˜¯å£°æ˜è¦æ›´æ”¹ï¼Œæ•´ä¸ªçš„`switch`åˆ¤æ–­ä¹Ÿéœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥æ‰å‡ºç°äº† TS çš„æšä¸¾ç±»å‹ã€‚

<br />

æšä¸¾ç±»å‹æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œæšä¸¾ç±»å‹æ—¢å¯ä»¥å½“åšç±»å‹ä¹Ÿå¯ä»¥å½“åšå€¼ã€‚ä¹‹å‰è®²è¿°çš„ç±»å‹åœ¨ç¼–è¯‘åå°±ä¼šè¢«å»é™¤ï¼Œè€Œæšä¸¾ç±»å‹åœ¨ç¼–è¯‘åä¼šè¢«ä¿ç•™ä¸‹æ¥ï¼Œæšä¸¾ç±»å‹å¯ä»¥å‚ä¸é€»è¾‘ä¸šåŠ¡ã€‚

åœ¨ TS ä¸­æšä¸¾é€šå¸¸éƒ½æ˜¯é¦–å­—æ¯å¤§å†™çš„ï¼Œæšä¸¾çš„å€¼é»˜è®¤ä» 0 å¼€å§‹é€’å¢ï¼š

```typescript
// æšä¸¾åˆ›å»ºå¥½ä¹‹åï¼Œæœ¬èº«å°±æœ‰æ˜ å°„
// å­—ç¬¦ä¸²=ã€‹æ•°å­— å­—ç¬¦ä¸²=ã€‹å­—ç¬¦ä¸²
enum Color {
    Red = 0,
    Blue = 1,
    Green = 2
}

function foo(color: Color) {
    switch (color) {
        case Color.Red:
            console.log(color);
            break;
        case Color.Blue:
            console.log(color);
            break;
        case Color.Green:
            console.log(color);
            break;
    }
}

foo(Color.Green);
```

æšä¸¾ç±»å‹ç¼–è¯‘åçš„ç»“æœï¼š

```typescript
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Color;
(function (Color) {
    Color[Color["Red"] = 0] = "Red";
    Color[Color["Blue"] = 1] = "Blue";
    Color[Color["Green"] = 2] = "Green";
})(Color || (Color = {}));
function foo(color) {
    switch (color) {
        case Color.Red:
            console.log(color);
            break;
        case Color.Blue:
            console.log(color);
            break;
        case Color.Green:
            console.log(color);
            break;
    }
}
foo(Color.Green);
```

æšä¸¾å¯¹è±¡ç»“æ„ï¼š

![](imgs/1732695605482-8ea64012-1457-4be3-b431-1d6b656aa29f.png)

<br />

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœä¸€ä¸ªæšä¸¾çš„å€¼æ˜¯`number`ï¼Œåˆ™å…¶ä»–æšä¸¾å€¼ä¼šè‡ªåŠ¨çš„é€’å¢ï¼š

```typescript
enum Color {
    Red = 100,
    Blue, // ğŸ¤” Color.Blue = 101
    Green = 2,
    Yellow // ğŸ¤” Color.Yellow = 3
}
```

å¦‚æœæšä¸¾å€¼éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™éœ€è¦æ‰‹åŠ¨æŒ‡æ˜å€¼ï¼Œå› ä¸º TS ä¸çŸ¥é“åç»­çš„å€¼åº”è¯¥æ˜¯ä»€ä¹ˆï¼š

```typescript
enum Color {
    Red = "red",
    Blue = "blue",
    Green // âŒ æšä¸¾æˆå‘˜å¿…é¡»å…·æœ‰åˆå§‹åŒ–è¡¨è¾¾å¼
}
```

å½“ç„¶ï¼Œæšä¸¾çš„å€¼ä¹Ÿå¯ä»¥æ˜¯æ•°å€¼å’Œå­—ç¬¦ä¸²æ··åˆï¼Œè¿™ç§ä¸€èˆ¬ç§°ä¸ºã€Œå¼‚æ„æšä¸¾ã€ï¼Œè¿™ç§æ–¹å¼ä¸æ¨èï¼š

```typescript
enum Color {
  Red = 100,
  Blue = "blue",
  Green = 100 + 200,
  Yellow = "yellow"
}
```


##   åŒå‘æ˜ å°„
æšä¸¾å’Œå¯¹è±¡çš„å·®å¼‚è¿˜åœ¨äºï¼Œå¯¹è±¡æ˜¯å•å‘æ˜ å°„çš„ï¼ˆåªèƒ½ä»é”®æ˜ å°„åˆ°é”®ï¼‰ï¼Œè€Œæšä¸¾æ˜¯åŒå‘æ˜ å°„çš„ï¼ˆå³å¯ä»¥ä»æšä¸¾æˆå‘˜æ˜ å°„åˆ°æšä¸¾å€¼ï¼Œä¹Ÿå¯ä»¥ä»æšä¸¾å€¼æ˜ å°„åˆ°æšä¸¾æˆå‘˜ï¼‰ï¼š

```typescript
enum Direction {
    Up,
    Down,
    Left,
    Right
}
const upValue = Direction.Up;
console.log(upValue); // 0

const upKey = Direction[0];
console.log(upKey); // Up
```

è¿™ä¸»è¦å°±æ˜¯å› ä¸ºæˆ‘ä»¬å‰é¢è®²è¿°çš„æšä¸¾çš„ç¼–è¯‘ç»“æœä¸‹é¢çš„æ–¹å¼ï¼š

```javascript
var Direction;
(function (Direction) {
    Direction[Direction["Up"] = 0] = "Up";
    Direction[Direction["Down"] = 1] = "Down";
    Direction[Direction["Left"] = 2] = "Left";
    Direction[Direction["Right"] = 3] = "Right";
})(Direction || (Direction = {}));
const upValue = Direction.Up;
console.log(upValue); // 0
const upKey = Direction[0];
console.log(upKey); // Up
```

ä»¥ä¸Šä»£ç ä¸­ï¼Œ`obj[k] = v`çš„è¿”å›å€¼å³æ˜¯`v`ï¼Œå› æ­¤è¿™é‡Œçš„`obj[obj[k] = v] = k`æœ¬è´¨ä¸Šå°±æ˜¯è¿›è¡Œäº† `obj[k] = v`ä¸`obj[v] = k`è¿™æ ·ä¸¤æ¬¡èµ‹å€¼ã€‚

<XTextLight>ä½†æ˜¯éœ€è¦æ³¨æ„ï¼Œåªæœ‰å€¼ä¸ºæ•°å­—çš„æšä¸¾æˆå‘˜æ‰å¯ä»¥è¿›è¡ŒåŒå‘æ˜ å°„ï¼Œå­—ç¬¦ä¸²æšä¸¾æˆå‘˜ä»ç„¶æ˜¯å•å‘çš„ï¼š</XTextLight>

```typescript
enum Direction { 
  Up = 0,
  Down = 1,
  Left = "left",
  Right = "right"
}
```

ç¼–è¯‘ä¹‹åï¼š

```javascript
var Direction;
(function (Direction) {
    Direction[Direction["Up"] = 0] = "Up";
    Direction[Direction["Down"] = 1] = "Down";
    Direction["Left"] = "left";
    Direction["Right"] = "right";
})(Direction || (Direction = {}));
```

##   å¸¸é‡æšä¸¾
å¦‚æœæˆ‘ä»¬å¸Œæœ›å±è”½ä¸å®‰å…¨çš„è®¿é—®æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ã€Œå¸¸é‡æšä¸¾ã€ï¼š

```typescript
const enum Direction {
    Up = 0,
    Down = 1,
    Left = 2,
    Right = 3
}

console.log(Direction[0]) // âŒ ä¸èƒ½åå‘æŸ¥æ‰¾
console.log(Direction.Up); // 0
```

ä½¿ç”¨å¸¸é‡æšä¸¾éœ€è¦æ³¨æ„ï¼š

+ å¸¸é‡æšä¸¾ä¸å…è®¸åå‘æŸ¥æ‰¾ï¼›
+ å¸¸é‡æšä¸¾é»˜è®¤ä¸ä¼šäº§ç”Ÿä»»ä½•çš„ JS ä»£ç ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨åˆ°æšä¸¾æˆå‘˜çš„æ—¶å€™ç›´æ¥æ’å…¥å¯¹åº”çš„å€¼ï¼›

```javascript
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
console.log(Direction[0]); // âŒ ä¸èƒ½åå‘æŸ¥æ‰¾
console.log(0 /* Direction.Up */); // 0
```

##   isolatedModules
å¦‚æœåœ¨å·¥ç¨‹ä¸­ä½¿ç”¨æšä¸¾ç±»å‹ï¼ŒåŠ¡å¿…è¦è®¾ç½® tsconfig çš„å±æ€§`isolatedModules:true`ï¼Œå› ä¸ºæœ‰äº›æ‰“åŒ…å·¥å…·å¹¶æ²¡æœ‰ä¾èµ– Typescript çš„`tsc`è¿›è¡Œç±»å‹æ£€æŸ¥å’Œç±»å‹è½¬è¯‘ï¼Œåƒ`esbuild`å’Œ`Babel`è¿™æ ·çš„å·¥å…·ä¼šå•ç‹¬ç¼–è¯‘æ¯ä¸ªæ–‡ä»¶ï¼Œå› æ­¤å®ƒä»¬æ— æ³•åˆ¤æ–­å¯¼å…¥çš„åç§°æ˜¯ç±»å‹è¿˜æ˜¯å€¼ã€‚

æ‰€ä»¥æœ‰ä¸€äº› Typescript çš„ç‰¹æ€§æ˜¯å®¹æ˜“äº§ç”Ÿé”™è¯¯çš„ï¼Œæ¯”å¦‚`const enum`ã€‚è¿™ä¸ªå†…å®¹åœ¨ [vite](https://gitee.com/link?target=https%3A%2F%2Fcn.vitejs.dev%2Fguide%2Ffeatures.html%23isolatedmodules) å’Œ[esbuild](https://gitee.com/link?target=https%3A%2F%2Fesbuild.github.io%2Fcontent-types%2F%23isolated-modules) ä¸­éƒ½æœ‰ç›¸å…³çš„è¯´æ˜ã€‚

