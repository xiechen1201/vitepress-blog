å…ˆç»“åˆå¯¹è±¡çš„å­—é¢é‡è”åˆç±»å‹çœ‹ä¸€ä¸ªé—®é¢˜ï¼š

```typescript
type UserTextEvent = { value: string; target: HTMLInputElement };
type UserMouseEvent = { value: number; target: HTMLButtonElement };
type UserEvent = UserTextEvent | UserMouseEvent;

function handle(event: UserEvent) {
    if (typeof event.value === "string") {
        // ğŸ¤” (property) value: string
        console.log(event.value);
        // ğŸ¤” (property) target: HTMLInputElement | HTMLButtonElement
        console.log(event.target);
    } else {
        // ğŸ¤” (property) value: string
        console.log(event.value);
        // ğŸ¤” (property) target: HTMLInputElement | HTMLButtonElement
        console.log(event.target);
    }
}
```

ä»ä¸Šé¢çš„ä»£ç ç‰‡æ®µå¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨`if`åˆ¤æ–­æ‰€ä»¥å¯ä»¥å°†`event.value`çš„ç±»å‹è¿›è¡Œç»†åŒ–ï¼Œä½†æ˜¯`event.target`å´ä¸è¡Œï¼Œè¿™æ˜¯å› ä¸º`event`çš„ç±»å‹æ˜¯`UserEvent`ï¼Œå®ƒçš„çœŸå®ç±»å‹å…¶å®æ˜¯ï¼š

```typescript
type UserEvent = {
  value: string | number,
  target: HTMLInputElement | HTMLButtonElement
}
```

æ‰€ä»¥è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ`event.target`çš„ç±»å‹è¿˜æ˜¯è”åˆç±»å‹çš„åŸå› ã€‚

<br />

æˆ‘ä»¬éœ€è¦ä¸€ç§æ›´åŠ å¯é çš„æ–¹å¼ï¼Œæ˜ç¡®å¯¹è±¡çš„å¹¶é›†ç±»å‹çš„å…·ä½“æƒ…å†µã€‚

æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨ã€Œå­—é¢é‡ç±»å‹è¿›è¡Œæ ‡è®°ã€ï¼Œ<XTextLight>è¿™æ ·å…·ä½“æœ‰å€¼çš„æƒ…å†µä¸‹ï¼Œå°±ç›¸å½“äºå¯¹å€¼è¿›è¡Œåˆ¤æ–­ï¼Œè¿™æ · TypeScript å°±èƒ½å¤Ÿç²¾ç¡®çš„æ¨å¯¼å‡ºæ¥äº†ï¼Œ</XTextLight>å…·ä½“çš„å¯¹è±¡å¹¶é›†ç±»å‹æ˜¯å“ªä¸ªç±»å‹ï¼š

```typescript
type UserTextEvent = {
    type: "TextEvent";
    value: string;
    target: HTMLInputElement;
};
type UserMouseEvent = {
    type: "MouseEvent";
    value: number;
    target: HTMLButtonElement;
};

type UserEvent = UserTextEvent | UserMouseEvent;

function handle(event: UserEvent) {
    if (event.type === "TextEvent") {
        console.log(event.value);
        // ğŸ¤” (property) target: HTMLInputElement
        console.log(event.target);
    } else {
        console.log(event.value);
        // ğŸ¤” (property) target: HTMLButtonElement
        console.log(event.target);
    }
}
```

ä¸€èˆ¬ç±»ä¼¼è¿™ç§å¤šä¸ªç±»å‹çš„è”åˆç±»å‹ï¼Œå¹¶ä¸”å¤šä¸ªç±»å‹å«æœ‰ä¸€ä¸ªå…¬å…±å¯è¾¨è¯†çš„å…¬å…±å±æ€§çš„è”åˆç±»å‹ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸“é—¨çš„æˆä¸ºï¼šã€Œå¯è¾¨è¯†è”åˆç±»å‹ã€ã€‚

<br />

æŸäº›æƒ…å†µï¼Œå¦‚æœæˆ‘ä»¬åˆ¤æ–­ç±»å‹æ˜¯`circle`å°±è°ƒç”¨`radius`å±æ€§ï¼Œå¦‚æœæ˜¯`rect`å±æ€§å°±è°ƒç”¨`width`å’Œ`height`å±æ€§ï¼Œæˆ‘ä»¬å¾ˆæœ‰å¯èƒ½å°±ä¼šå†™å‡ºä¸‹é¢çš„ç±»å‹ç»“æ„ï¼š

```typescript
type Shape = {
    kind: "circle" | "rect";
    radius?: number;
    width?: number;
    height?: number;
};

function area(shape: Shape) {
    switch (shape.kind) {
        case "circle":
            return Math.PI * shape.radius ** 2; // âŒ shape.radiuså¯èƒ½æœªå®šä¹‰
        case "rect":
            return shape.width * shape.height; // âŒ shape.widthï¼Œshape.heightå¯èƒ½æœªå®šä¹‰
    }
}
```

ä¸Šé¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œ`kind`å±æ€§æ²¡æœ‰å’Œå…¶ä»–å­—æ®µå»ºç«‹å…³ç³»ï¼Œæ‰€ä»¥ä¸èƒ½ä¿è¯å¯é€‰å±æ€§æ˜¯å¦å…·æœ‰å€¼ï¼Œæ‰€ä»¥å°±ä¼šæŠ›å‡ºä¸ºå®šä¹‰çš„é”™è¯¯ã€‚

é€šè¿‡å¯è¾¨è¯†ç±»å‹æ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„è§£å†³æ–¹å¼ï¼š

```typescript
type Circle = { kind: "circle"; radius: number };
type Rect = { kind: "rect"; width: number; height: number };
type Shape = Circle | Rect;

function area(shape: Shape) {
    switch (shape.kind) {
        case "circle":
            return Math.PI * shape.radius ** 2;
        case "rect":
            return shape.width * shape.height;
    }
}
```

