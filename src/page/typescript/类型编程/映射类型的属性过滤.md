ä¹‹å‰æˆ‘ä»¬å€ŸåŠ©å®˜æ–¹çš„`Pick`+`Exclude`å®ç°äº†`Omit`ç±»å‹å·¥å…·ï¼Œé‚£æˆ‘ä»¬èƒ½ä¸èƒ½ä¸å€ŸåŠ©è¿™äº›å·¥å…·è‡ªå·±å®ç°ä¸€ä¸ªå‘¢ï¼Ÿå½“ç„¶ä¹Ÿå¯ä»¥ï¼Œä¸è¿‡æˆ‘ä»¬éœ€è¦å€ŸåŠ©`as`+`never`å®ç°å±æ€§è¿‡æ»¤çš„æ•ˆæœã€‚

<br />

é¦–å…ˆéœ€è¦çŸ¥é“ä»€ä¹ˆæ˜¯`as`ï¼Ÿ`as`å¯ä»¥å¯¹æ˜ å°„ç±»å‹è¿›è¡Œé‡å‘½åï¼Œç¤ºä¾‹ï¼š

```typescript
type User = {
    readonly id: number;
    name: string;
    tel: string;
    address: string;
};

type A<T> = {
    // å¯¹ P è¿›è¡Œä»æ˜ å°„
    [key in keyof T as "aaa"]: T[key];
};

// ğŸ¤” {readonly aaa: string | number;}
type User2 = A<User>;
```

ä¸Šé¢ä»£ç ä¸­ï¼Œæˆ‘ä»¬å°†`T`é‡æ–°æ˜ å°„ä¸º`"aaa"`çš„ç±»å‹ï¼Œæ‰€ä»¥æœ€åå¾—åˆ°çš„ä¹Ÿåªæœ‰`{readonly aaa: string | number;}`è¿™ä¸€ä¸ªå±æ€§ç»„æˆçš„å¯¹è±¡ç±»å‹ã€‚

<br />

ä½¿ç”¨`as`é‡æ˜ å°„ä¹Ÿå¯ä»¥å®ç°`Exclude`çš„æ•ˆæœï¼š

```typescript
type MyOmit<T, K> = {
    // å¦‚æœ key å…¼å®¹ K åˆ™è¿”å› neverï¼Œå¦åˆ™è¿”å› key
    [key in keyof T as key extends K ? never : key]: T[key];
};

type User = {
    id: number;
    name: string;
    tel: string;
    address: string;
};

// ğŸ¤” type User2 = {id: number; name: string;}
type User2 = MyOmit<User, "tel" | "address">; 
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæ˜ å°„`key in keyof T`è·å–ç±»å‹`T`çš„æ¯ä¸€ä¸ªå±æ€§åã€‚åé¢ç´§è·Ÿç€`as`å…¶å®ä¹Ÿå¯ä»¥ä¸ºé”®é‡æ–°æ˜ å°„å‘½åã€‚ä¸è¿‡å®ƒçš„é”®é‡æ˜ å°„`as key extends K ? never : key`ï¼Œä½¿ç”¨äº†æ¡ä»¶è¿ç®—ç¬¦ï¼Œåˆä¼šè§¦å‘åˆ†å¸ƒå¼å¤„ç†ã€‚

```typescript
// key extends K ? never : key çš„è¿‡ç¨‹ï¼š

"id" ---> "tel" | "address" ? never : "id" // "id"

"name" ---> "tel" | "address" ? never : "name" // "name"

"tel" ---> "tel" | "address" ? never : "tel" // never

"address" ---> "tel" | "address" ? never : "address" // never

"id" | "name" | never | never ---> "id" | "name"
```

<br />

æˆ‘ä»¬è¿˜å¯ä»¥å†å‡çº§ä¸€ä¸‹ï¼Œä¾‹å¦‚åªä¿ç•™`User`å€¼ç±»å‹ä¸º`string`ç±»å‹çš„ï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„ç±»å‹ï¼š

```typescript
type PickStringValueType<T> = {
    [key in keyof T as T[key] extends string ? key : never]: T[key];
};

type FilteredUser = PickStringValueType<User>;

/* 
    type FilteredUser = {
        name: string;
        tel: string;
        address: string;
    }
*/
```

<br />

å½“ç„¶å¦‚æœåè¿‡æ¥ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œåªéœ€è¦å°†`key`å’Œ`never`äº’æ¢ä½ç½®å³å¯ï¼š

```typescript
type PickByType<T, U> = {
    [key in keyof T as T[key] extends U ? key : never]: T[key];
};

type B = PickByType<User, number>;

/* 
    type B = {
        id: number;
    }
*/
```

