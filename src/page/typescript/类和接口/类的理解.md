<XTextLight>åœ¨ TS ä¸­ã€Œç±»ã€æ—¢å¯ä»¥æ˜¯ç±»ä¹Ÿå¯ä»¥æ˜¯ã€Œç±»å‹ã€ï¼Œã€Œç±»ã€ä¹Ÿæ˜¯ä¸€ç§ç»“æ„åŒ–ç±»å‹ï¼ˆé¸­å­ç±»å‹ï¼‰ã€‚</XTextLight>

åœ¨ ES6 ä¹‹å‰ï¼ŒJS ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºç±»ï¼ŒåŸºäºå‡½æ•°çš„åŸå‹æ¥å®ç°ç»§æ‰¿ã€‚ä½†æ˜¯è¿™æ ·ç»™å‡½æ•°å¸¦æ¥äº†äºŒä¹‰æ€§ï¼ˆå‡½æ•°å³æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç±»ï¼‰ï¼Œè™½ç„¶æœ‰ä¸€ç§çº¦å®šæ¥ï¼ˆå‡½æ•°åé¦–å­—æ¯å¤§å†™ï¼‰åŒºåˆ†æ™®é€šå‡½æ•°å’Œæ„é€ å‡½æ•°ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¹¶ä¸æ˜¯å¼ºåˆ¶çš„ï¼Œæ— éä»è¯­æ³•å±‚é¢ä¸Šè¿›è¡ŒåŒºåˆ†ã€‚ç›´åˆ° ES6 å¼•å…¥äº†ç®­å¤´å‡½æ•°å’Œ`Class`ç±»çš„è¯­æ³•ï¼Œæ‰çœŸæ­£çš„åŒºåˆ†äº†å‡½æ•°å’Œç±»çš„è¯­æ³•ã€‚

<br />

TS ä¸­ç±»ç»“æ„å’Œ JS ä¸€æ ·ï¼Œæ— éå°±æ˜¯å±æ€§ã€æ„é€ å‡½æ•°ã€æ–¹æ³•ã€å­˜å–å™¨ï¼ˆè®¿é—®å™¨ï¼‰ã€è®¿é—®ä¿®é¥°ç¬¦ï¼Œè£…é¥°å™¨ï¼Œåªéœ€è¦åœ¨è¿™äº›å†…å®¹ä¸ŠåŠ ä¸Šç±»å‹æ ‡æ³¨å³å¯ã€‚

å±æ€§ç±»ä¼¼äºå˜é‡ï¼ŒåŠ ä¸Šç›¸å…³çš„ç±»å‹æ ‡æ³¨å³å¯ã€‚æ„é€ å‡½æ•°ã€æ–¹æ³•ã€å­˜å–å™¨ç±»ä¼¼äºå‡½æ•°ï¼ŒåŠ ä¸Šå‚æ•°çš„ç±»å‹å’Œè¿”å›ç±»å‹å³å¯ã€‚

å¦å¤– TS è¿˜è¿›è¡Œäº†æ‹“å±•ï¼Œä¾‹å¦‚æŠ½è±¡ç±»ã€æ¥å£ï¼Œä»¥åŠä¸€äº›è®¿é—®ä¿®é¥°ç¬¦ï¼Œç›®çš„æ˜¯ä¸ºäº†è®©é¢å‘å¯¹è±¡è¯­æ³•æ›´åŠ çš„å®Œæ•´ã€‚

## è®¿é—®ä¿®é¥°ç¬¦

è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¿®é¥°ç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œä¸»è¦æ˜¯ä»¥ä¸‹å†…å®¹ï¼š

+ `public`ï¼šé»˜è®¤å€¼ï¼Œè¡¨ç¤ºå¯ä»¥åœ¨ç±»ã€å­ç±»ï¼Œä»¥åŠç±»å’Œå­ç±»å®ä¾‹å¯¹è±¡ä¸Šéƒ½å¯ä»¥è®¿é—®çš„å±æ€§å’Œæ–¹æ³•ï¼›

+ `protected`ï¼šè¡¨ç¤ºåªå¯ä»¥åœ¨ç±»ã€å­ç±»ä¸Šè¿›è¡Œè®¿é—®çš„å±æ€§å’Œæ–¹æ³•ï¼›

+ `private`ï¼šä»…åœ¨ç±»çš„å†…éƒ¨å¯ä»¥è®¿é—®çš„å±æ€§å’Œæ–¹æ³•ï¼›

<br />

ç¤ºä¾‹ï¼š

```typescript
class Animal {
    public name: string;
    protected color: string;
    private _age: number;
    #type: string;
    constructor(name: string, color: string, _age: number, type: string) {
        this.name = name;
        this.color = color;
        this._age = _age;
        this.#type = type;
    }

    show() {
        console.log(this.name, this.color, this._age);
    }
}
```

TS è¦æ±‚ç±»çš„å±æ€§å¿…é¡»å…ˆè¿›è¡Œå£°æ˜ï¼Œç„¶åæ‰å¯ä»¥ä½¿ç”¨ã€‚

::: tip

TS é…ç½®æ–‡ä»¶`"strict": true`ä¼šé»˜è®¤å¼€å¯`"strictPropertyInitialization": true`ï¼Œä¹Ÿå°±æ˜¯å±æ€§å¿…é¡»åˆå§‹åŒ–ï¼Œå¦‚æœè¦å…³é—­è¿™ä¸ªç‰¹æ€§è®¾ç½®`"strictPropertyInitialization": false`å³å¯ï¼ˆä¸æ¨èï¼‰ã€‚

:::

<br />

`name`ã€`color`å’Œ`_age`çš„å£°æ˜æ–¹å¼ä¹Ÿå¯ä»¥è¿›è¡Œç®€å†™ï¼š

```typescript
class Animal {
    #type: string;
    constructor(
        public name: string, 
        protected color: string, 
        private _age: number,
        type: string
    ) {
        this.#type = type;
    }
}
```

è¿™æ ·çš„å½¢å¼å°±ç­‰åŒäºåœ¨ç±»çš„é¡¶éƒ¨è¿›è¡Œå£°æ˜ç±»å‹å¹¶åœ¨`constructor`å†…è¿›è¡Œèµ‹å€¼ã€‚

<br />

ç¤ºä¾‹ç»§æ‰¿å¯è®¿é—®çš„å±æ€§ï¼š

```typescript
class Animal {
    #type: string;
    constructor(
        public name: string,
        protected color: string,
        private _age: number,
        type: string
    ) {
        this.#type = type;
    }

    show() {
        console.log(this.name, this.color, this._age);
    }
}

class Cat extends Animal {
    info() {
        // çˆ¶ç±»ä¸­ public ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•åœ¨å­ç±»ä¸­éƒ½èƒ½è®¿é—®
        console.log(this.name);
        this.show();
      
        // çˆ¶ç±»ä¸­ protected ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•åœ¨å­ç±»ä¸­éƒ½èƒ½è®¿é—®
        console.log(this.name);
        this.show();

        // çˆ¶ç±»ä¸­ private ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•åœ¨å­ç±»ä¸­ä¸èƒ½è®¿é—®
        console.log(this._age); // âŒ

        // çˆ¶ç±»ä¸­ä½¿ç”¨ # ä¿®é¥°çš„å±æ€§å’Œæ–¹æ³•åœ¨å­ç±»ä¸­ä¸èƒ½è®¿é—®
        console.log(this.#type); // âŒ
    }
}

const a = new Animal("å°ç™½", "ç™½è‰²", 3, "Dog");
console.log(a.name); // âœ…
a.show(); // âœ…
console.log(a.color); // âŒ
console.log(a._age); // âŒ
console.log(a.#type); // âŒ

const c = new Cat("å°çŒ«", "èŠ±è‰²", 2, "Cat");
console.log(c.name); // âœ…
c.info(); // âœ…
```

æ ¹æ®ä¸Šé¢çš„ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå°è¯äº†æˆ‘ä»¬ä¸Šé¢å¯¹è®¿é—®ä¿®é¥°ç¬¦çš„ä»‹ç»ã€‚

+ ä¸æ·»åŠ ä»»ä½•ä¿®é¥°ç¬¦çš„å±æ€§å’Œæ–¹æ³•ï¼Œé»˜è®¤å°±æ˜¯`public`çš„ï¼›

+ `#`ä¿®é¥°ç¬¦æ˜¯ ES2022 å¼•å…¥çš„ï¼Œä¹Ÿæ˜¯ä¿®é¥°ç§æœ‰å±æ€§çš„ï¼Œåªèƒ½åœ¨ç±»çš„å†…éƒ¨ä½¿ç”¨ï¼Œ[è¯¦è§](https://es6.ruanyifeng.com/#docs/class#%E7%A7%81%E6%9C%89%E6%96%B9%E6%B3%95%E5%92%8C%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7)ï¼›

    - `#`ä¿®é¥°ç¬¦ç›®å‰ä¸èƒ½åƒ TS ä¿®é¥°ç¬¦é‚£æ ·è¿›è¡Œæ„é€ å‡½æ•°å‚æ•°çš„ç®€å†™ï¼›

##  è®¿é—®å™¨å±æ€§

ä¸ºä»€ä¹ˆéœ€è¦è®¿é—®å™¨å±æ€§å‘¢ï¼Ÿ

å¯ä»¥æ–¹ä¾¿å¯¹å±æ€§è¿›è¡Œæ“ä½œçš„æ—¶å€™è¿›è¡Œæ‹¦æˆªï¼Œè¿›è¡Œæ›´å¤šçš„æ“ä½œã€‚ä¾‹å¦‚åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦ç¬¦åˆèŒƒå›´ç­‰ç­‰ã€‚

<br />

ç¤ºä¾‹ä»£ç ï¼š

```typescript
class Animal {
    name: string;
    age: number;
    private _color: string;
    #_type: string;

    constructor(name: string, age: number) {
        this.name = name;
        this.age = age;
        this._color = "";
        this.#_type = "";
    }

    set color(color: string) {
        // å¯ä»¥åœ¨è¿™é‡Œå¯¹å±æ€§è¿›è¡Œæ§åˆ¶
        // if (color === "white") {...}
        this._color = color;
    }

    get color() {
        return this._color;
    }

    set type(type: string) {
        this.#_type = type;
    }

    get type() {
        return this.#_type;
    }
}

let a = new Animal("Jack", 2);
a.color = "white";
console.log(a.color);

a.type = "cat";
console.log(a.type);
```

<br />

è®¿é—®å™¨å±æ€§çš„å†™æ³•å’Œ JS ä¹ŸåŸºæœ¬ä¸€æ ·ï¼Œåªä¸è¿‡æ³¨æ„å‡ ä¸ªç»†èŠ‚ã€‚

1ã€å¦‚æœè®¿é—®å™¨å±æ€§å®šä¹‰äº†`set`æ–¹æ³•ï¼Œåˆ™é»˜è®¤æƒ…å†µä¸‹ï¼Œ`get`æ–¹æ³•çš„è¿”å›å€¼ç±»å‹åº”è¯¥ä¸`set`æ–¹æ³•æ¥æ”¶çš„ç±»å‹ä¸€è‡´ã€‚

![](imgs/1735785994940-b57d8ff6-b366-48bd-af5d-998850e7e964.png)

å› æ­¤ï¼Œå½“ä¸€ä¸ªå±æ€§è¢«æ ‡è®°ä¸ºå¯é€‰æ—¶ï¼Œå°†å…¶ä¸`get`å’Œ`set`æ–¹æ³•åŒæ—¶å®šä¹‰å¯èƒ½ä¼šå¯¼è‡´é€»è¾‘å†²çªã€‚

```typescript
class Animal{
    ...
    private _color?: string;

    set color(color: string) {
        this._color = color;
    }

    get color() {
        return this._color; // âŒ ä¸èƒ½å°†ç±»å‹â€œstring | undefinedâ€åˆ†é…ç»™ç±»å‹â€œstringâ€
    }
}
```

è¦è§£å†³è¿™ä¸ªé”™è¯¯æœ‰å¾ˆå¤šæ–¹å¼ï¼Œä¾‹å¦‚ï¼š

+ åˆ é™¤`_color`çš„å¯é€‰ä¿®é¥°ï¼›

+ åˆ é™¤`set`å±æ€§è®¿é—®å™¨ï¼ˆå¦‚æœ`set`æ˜¯éå¿…éœ€çš„ï¼‰ï¼›

+ åœ¨`get`ä¸­æ·»åŠ å¯¹`undefined`çš„åˆ¤æ–­ï¼›

+ éç©ºæ–­è¨€ï¼›

+ æ›´æ”¹ TS çš„é…ç½®`"strictNullChecks": false`ï¼ˆä¸æ¨èï¼‰ï¼›


##  é™æ€æˆå‘˜

é™æ€å±æ€§å’Œæ–¹æ³•å’Œ JS ä¹ŸåŸºæœ¬ä¸€è‡´ã€‚

ç¤ºä¾‹ï¼š

```typescript
class Animal {
    name: string;
    constructor(name: string) {
        this.name = name;
    }

    // é™æ€å±æ€§
    static kingdom = "Animal";

    // é™æ€æ–¹æ³•
    static showKingdom(): string {
        // this æŒ‡å‘ç±»æœ¬èº«ï¼Œå†™æ³•ä¸å¤ªå¥½ï¼Œæœ€å¥½ä½¿ç”¨ Animalï¼Œè€Œä¸æ˜¯ this
        // ğŸ¤” this: typeof Animal
        console.log(this.kingdom);
        return `The kingdom is ${Animal.kingdom}`;
    }
}

console.log(Animal.showKingdom());
```