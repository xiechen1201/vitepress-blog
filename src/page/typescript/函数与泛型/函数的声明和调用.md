åœ¨ TS ä¸­å‡½æ•°çš„å†™æ³• JS ä¸­çš„å†™æ³•åŸºæœ¬ä¸€è‡´ï¼Œåªä¸è¿‡ TS éœ€è¦æˆ‘ä»¬å¯¹å‡½æ•°çš„å‚æ•°è¿›è¡Œç±»å‹æ ‡æ³¨ï¼š

```typescript
function add(a: number, b: number): number{
  return a + b;
}
```

å‡½æ•°çš„è¿”å›å€¼ç±»å‹ TS æ˜¯å¯ä»¥è‡ªåŠ¨çš„è¿›è¡Œæ¨å¯¼å‡ºæ¥çš„ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥è¿›è¡Œæ˜¾å¼çš„å®šä¹‰ã€‚

å¯¹äºå…¶ä»–çš„å£°æ˜æ–¹å¼å’Œ JS ä¹Ÿéƒ½ä¿æŒä¸€è‡´ï¼š

```typescript
// å‡½æ•°å£°æ˜
function add(a: number, b: number): number {
  return a + b;
}

// å‡½æ•°çš„è¡¨è¾¾å¼
const add2 = function (a: number, b: number): number {
  return a + b;
};

// ç®­å¤´å‡½æ•°
const add3 = (a: number, b: number): number => {
  return a + b;
};

// å‡½æ•°çš„ç±»å‹å¯ä»¥è‡ªåŠ¨è¿›è¡Œæ¨å¯¼
// ğŸ¤” const add4: (a: number, b: number) => number
const add4 = (a: number, b: number) => {
  return a + b;
};
```

åœ¨å‡½æ•°è¿›è¡Œè°ƒç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æ— éœ€æä¾›ä»»ä½•é¢å¤–çš„ç±»å‹ä¿¡æ¯äº†ï¼Œç›´æ¥ä¼ å…¥å®å‚å³å¯ã€‚TS å°†æ£€æŸ¥å®å‚æ˜¯å¦ä¸å‡½æ•°çš„å½¢å‚ç±»å‹å…¼å®¹ã€‚

```typescript
// ğŸ¤” let num: number
let num = add(1, 2);

let num2 = add(1); // âŒ åº”æœ‰ 2 ä¸ªå‚æ•°ï¼Œä½†è·å¾—1ä¸ª
let num3 = add("Hello", "World"); // âŒ ç±»å‹â€œstringâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œnumberâ€çš„å‚æ•°
```



## <font style="background-color:#74B602;"> </font> å¯é€‰å‚æ•°å’Œé»˜è®¤å‚æ•°
TS ä¸­ä¹¦å†™å‚æ•°çš„æ—¶å€™åœ¨å‚æ•°çš„åé¢åŠ ä¸Š`?`è¡¨ç¤ºè¿™ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ã€‚

```typescript
function sendMessage(name: string, age?: number) {
  console.log(name, age);
}

sendMessage("å¼ ä¸‰", 18);
sendMessage("æå››");
sendMessage(); // âŒ åº”æœ‰ 1-2 ä¸ªå‚æ•°ï¼Œä½†è·å¾— 0 ä¸ª
```

<br/>warning
âš ï¸ æ³¨æ„

å¯é€‰å‚æ•°å¿…é¡»æ”¾åœ¨å½¢å‚çš„æœ€åé¢ï¼

<br/>



å½¢å‚ä¹Ÿå¯ä»¥æä¾›é»˜è®¤å€¼ï¼Œè¿™æ ·åšåœ¨è¯­ä¹‰ä¸ŠæŠŠå½¢å‚æ ‡è®°ä¸ºå¯é€‰å‚æ•°æ˜¯ä¸€æ ·çš„ã€‚

```typescript
function sendMessage(name: string, age: number = 18) {
  console.log(name, age);
}
sendMessage3("å¼ ä¸‰");
sendMessage3("æå››", 20);
```

å…·æœ‰é»˜è®¤å€¼çš„å½¢å‚ï¼Œå‚æ•°çš„ä½ç½®ä¸å†åšè¦æ±‚ï¼š

```typescript
function sendMessage(name: string, age: number = 18, gender: string = "ç”·") {}
```



## <font style="background-color:#74B602;"> </font> å‰©ä½™å‚æ•°
æŸäº›æƒ…å†µä¸‹å‡½æ•°çš„å‚æ•°éƒ½æ˜¯ä¸å›ºå®šçš„ï¼Œåœ¨ JS ä¸­æˆ‘ä»¬é€šå¸¸å¯ä»¥ä½¿ç”¨`arguments`æ¥è·å–å®å‚çš„ä¼ªæ•°ç»„ï¼Œä½†æ˜¯åœ¨ TS ä¸­ç›´æ¥è°ƒç”¨ä¼šå­˜åœ¨ä¸€äº›é—®é¢˜ï¼š

```typescript
function sum() {
  console.log(arguments);
  // ä½¿ç”¨ arguments çš„æ—¶å€™ï¼Œreduce å¾—ä¸åˆ°ä»»ä½•çš„ç±»å‹æç¤º
  return Array.from(arguments).reduce((pre, cur) => pre + cur, 0);
}
// sum å‡½æ•°ä¸æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œè¿èƒŒäº†å‡½æ•°çš„è¦æ±‚
// è¿™ä¸ªä»£ç åœ¨ JS ä¸­æ˜¯ä¸å­˜åœ¨é—®é¢˜çš„
sum(1, 2, 3, 4, 5); // âŒ åº”æœ‰ 0 ä¸ªå‚æ•°ï¼Œä½†è·å¾— 5 ä¸ª
```

åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ€å¤§çš„é—®é¢˜å°±æ˜¯`sum()`å‡½æ•°ä¸éœ€è¦ä»»ä½•çš„å‚æ•°ï¼Œæˆ‘è¿™é‡Œå´ä¼ é€’äº† 5 ä¸ªå‚æ•°ã€‚å¦å¤–ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œ`reduce()`å‡½æ•°çš„å›è°ƒå‡½æ•°çš„å½¢å‚`(pre, cur)`çš„ç±»å‹éƒ½æ˜¯`any`ç±»å‹ã€‚

ä¸ºäº†å®‰å…¨å¯é ï¼Œæˆ‘è¿™é‡Œå°±å¯ä»¥ä½¿ç”¨ã€Œå‰©ä½™å‚æ•°ï¼ˆrest parameterï¼‰ã€:

```typescript
function sum(...args: number[]) {
  console.log(args);
  return args.reduce((pre, cur) => pre + cur, 0);
}
sum(1, 2, 3, 4, 5);
```

ä½¿ç”¨å‰©ä½™å‚æ•°åï¼Œä¸Šé¢çš„é—®é¢˜å°±å¾—åˆ°äº†è§£å†³ã€‚ä¼ é€’ç»™`sum()`çš„å‚æ•°å¿…é¡»æ˜¯`number`ç±»å‹ï¼Œ`(pre, cur)`ä¹Ÿéƒ½æœ‰äº†ç±»å‹æç¤ºã€‚



## <font style="background-color:#74B602;"> </font> this çš„ç±»å‹æ³¨è§£
åœ¨ JS å‡½æ•°ä¸­æˆ‘ä»¬ä½¿ç”¨çš„å¦å¤–ä¸€ä¸ªå…³é”®å­—å°±æ˜¯`this`ï¼Œä½†æ˜¯åœ¨ TS ä¸­ç›´æ¥ä½¿ç”¨`this`åŒæ ·ä¼šæç¤ºç±»å‹çš„é”™è¯¯ï¼š

```typescript
function showDate() {
  // âŒ "this" éšå¼å…·æœ‰ç±»å‹ "any"ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ç±»å‹æ³¨é‡Š
  return `${this.getFullYear()}-${this.getMonth()}-${this.getDate()}`;
}

showDate.call(new Date());
```


ğŸ”” æç¤º

å¦‚æœæˆ‘åœ¨ tsconfig.json æ–‡ä»¶ä¸­æ‰“å¼€äº†`"strict":true`é€‰é¡¹ï¼Œé»˜è®¤ä¹Ÿä¼šæ‰“å¼€`"noImplicitThis": true`è¿™ä¸ªé€‰é¡¹ã€‚æ²¡æœ‰æ˜¾å¼çš„æŒ‡å®š`this`çš„ç±»å‹ä¹Ÿä¼šæç¤ºé”™è¯¯ã€‚

<br/>

åœ¨ä¸€èˆ¬çš„å‡½æ•°ä¸­å¦‚æœè¦ä½¿ç”¨`this`å°±å¿…é¡»æ˜¾ç¤ºçš„æ ‡æ³¨`this`çš„ç±»å‹ï¼Œä½†æ˜¯å¯¹è±¡å‡½æ•°åˆ™ä¸éœ€è¦ï¼š

```typescript
const obj = {
  name: "å¼ ä¸‰",
  showName: function () {
    console.log(this.name); // âœ…
  }
};

```

<br/>warning
âš ï¸ æ³¨æ„

`"noImplicitThis": true`ä¸å¼ºåˆ¶è¦æ±‚ç±»å’Œå¯¹è±¡çš„å‡½æ•°å¿…é¡»è¦å¯¹`this`è¿›è¡Œç±»å‹æ ‡æ³¨ã€‚

<br/>



ä¸ºäº†è§£å†³`this`çš„ç±»å‹é”™è¯¯é—®é¢˜ï¼Œæˆ‘å¯ä»¥å¯¹`this`è¿›è¡Œç±»å‹æ ‡æ³¨ï¼Œè¿™æ ·å°±ç¡®ä¿äº†è°ƒç”¨å‡½æ•°çš„æ—¶å€™ä¼ é€’çš„å¿…é¡»æ˜¯å¯¹åº”çš„ç±»å‹ï¼š

```typescript
// åœ¨ TS ä¸­æœ‰ä¸€ç§å¤„ç†ï¼ŒæŒ‡æ˜ this çš„ç±»å‹
function showDate(this: Date) {
    return `${this.getFullYear()}-${this.getMonth()}-${this.getDate()}`;
}

showDate.call(new Date()); // âœ… 
showDate(); // âŒ ç±»å‹ä¸ºâ€œvoidâ€çš„ "this" ä¸Šä¸‹æ–‡ä¸èƒ½åˆ†é…ç»™ç±»å‹ä¸ºâ€œDateâ€çš„æ–¹æ³•çš„ "this"
showDate.call(null); // âŒ ç±»å‹â€œnullâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œDateâ€çš„å‚æ•°
                     // å¦‚æœ "strictBindCallApply": false ä¸ä¼šæŠ¥é”™
```

å¦‚æœå‡½æ•°ä½¿ç”¨`this`ï¼Œå¯ä»¥æ”¾åœ¨å‡½æ•°å½¢å‚çš„ç¬¬ä¸€ä¸ªä½ç½®ä¸Šï¼ˆå…¶ä»–å½¢å‚ä¹‹å‰ï¼‰ï¼Œè¿™æ ·åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼ŒTS å°†ç¡®ä¿`this`æ˜¯æˆ‘é¢„æœŸçš„ç±»å‹ã€‚



`"strictBindCallApply": true` å¼€å¯è¿™ä¸ªé…ç½®é€‰é¡¹èƒ½æ¯”è¾ƒå®‰å…¨çš„è°ƒç”¨`.call`ã€`.apply`å’Œ`.bind`ï¼Œä¼šæ£€æŸ¥ä¼ å…¥çš„å‚æ•°æ˜¯å¦å’Œ`this`åŒ¹é…ï¼Œå½“ç„¶`strictBindCallApply`é…ç½®ä¹Ÿæ˜¯å±äº`strict`åˆ†æ”¯çš„ä¸€ä¸ªã€‚

```typescript
// .call .apply .bind çš„ç±»å‹æ£€æŸ¥é—®é¢˜
// ä½¿ç”¨ strictBindCallApply: false å¯ä»¥å…³é—­è¿™ä¸ªæ£€æŸ¥
function showDate(this: Date) {
    return `${this.getFullYear()}-${this.getMonth()}-${this.getDate()}`;
}

showDate.call(null); // âŒ ç±»å‹â€œnullâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œDateâ€çš„å‚æ•°
showDate.apply(new RegExp()); // âŒ ç±»å‹â€œRegExpâ€çš„å‚æ•°ä¸èƒ½èµ‹ç»™ç±»å‹â€œDateâ€çš„å‚æ•°
```

